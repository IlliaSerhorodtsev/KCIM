## Комп'ютерні системи імітаційного моделювання

## СПм-23-3, **Сергородцев Ілля Дмитрович**

### Лабораторна робота №**2**. Редагування імітаційних моделей у середовищі NetLogo

<br>

### Варіант 6, модель у середовищі NetLogo:
[Rabbits Grass Weeds](http://www.netlogoweb.org/launch#http://www.netlogoweb.org/assets/modelslib/Sample%20Models/Biology/Rabbits%20Grass%20Weeds.nlogo)


<br>

### Внесені зміни у вихідну логіку моделі, за варіантом:

**Додавання гендеру до кроликів**: У новій версії моделі кожен кролик отримує атрибут `gender`, який випадковим чином призначається як "male" (самець) або "female" (самка). Кролики самці мають колір синій, а самки — рожевий. Це дозволяє чітко відрізняти самців від самок в моделі.

<pre>
set gender one-of ["male" "female"]  ; випадкове присвоєння гендеру
if gender = "male" [ set color blue ]  ; самці мають синій колір
if gender = "female" [ set color pink ]  ; самки мають рожевий колір
</pre>

**Введення стану хвороби у кроликів**: Кролики можуть отруїтися від поїдання бур'янів. У цьому випадку їхній стан змінюється на "хворий" (`is-sick?`), і їхній колір змінюється на червоний. Хворий кролик не може рухатися, їсти або розмножуватися, поки не одужає. Крім того, хвороба тримається протягом 3 тактів моделі (`sick-ticks`).

if random-float 100 < poison-chance [
  set is-sick? true
  set color red  ; змінюється колір на червоний, щоб показати, що кролик хворий
  set sick-ticks 3  ; кролик буде хворий 3 такти
]

**Розмноження кроликів**: Для того, щоб відбулося розмноження, кролики повинні бути не тільки ситими, але й здоровими. Крім того, самці і самки повинні бути на сусідніх клітинках. Розмноження також має ймовірність 50%.

<pre>
let partner one-of rabbits-here with [gender != [gender] of myself and energy > birth-threshold and not is-sick?]
if partner != nobody and random-float 100 < 50 [
  set energy energy / 2
  ask partner [ set energy energy / 2 ]
  hatch 1 [
    set energy energy / 2
    set gender one-of ["male" "female"]
    if gender = "male" [ set color blue ]
    if gender = "female" [ set color pink ]
    fd 1
  ]
</pre>

**Стан хвороби кроликів**: Додана нова процедура `stay-sick`, яка зменшує кількість тактів хвороби, поки кролик не видужає. Після того як кількість тактів хвороби стає рівною нулю, кролик одужує, але втрачає деяку кількість енергії.

<pre>
to stay-sick
  set sick-ticks sick-ticks - 1
  if sick-ticks <= 0 [
    set is-sick? false
    if gender = "male" [ set color blue ]
    if gender = "female" [ set color pink ]
    set energy energy - 5
  ]
end
</pre>

### Внесені зміни у вихідну логіку моделі, на власний розсуд:
У попередній версії бур'яни та трава могли рости тільки на порожніх клітинках (чорний колір).  Було прийнято рішення змінити логіку таким чином: 
**Трава** росте тільки на порожніх клітинках (клітинках з чорним кольором), що означає, що вона не може рости там, де вже є бур'яни.
**Бур'яни** можуть рости як на порожніх клітинках, так і на клітинках з травою (зеленого кольору). Це дає можливість бур'янам займати простір, де є трава, замінюючи її на фіолетовий колір.
<pre>
ask patches [ if pcolor = black [ if random-float 1000 < grass-grow-rate [ set pcolor green ] ] if pcolor = black or pcolor = green [ if random-float 1000 < weeds-grow-rate [ set pcolor violet ] ] ] end
</pre>

![Вигляд програми](interface.png)
## Обчислювальні експерименти

### 1.Вплив ймовірності захворювань при поїданні бур'янів.
Дослідження впливу ймовірності захворювань при поїданні бур'янів на популяцію кроликів та їх здатність до розмноження.
model:
- **number**: 30
- **birth-threshold**: 40
- **grass-grow-rate**: 15
- **grass-energy**: 5
- **weeds-grow-rate**: 10
- **weed-energy**: 3
- poison-chance: 5, 10, 15, 20, 25(крок 5)
<table>
    <thead>
        <tr><th>Ймовірність захворювання (%)</th><th>Кількість кролів через 500 тактів</th><th>Кількість трави через 500 тактів</th><th>Кількість бур'янів через 500 тактів</th></tr>
    </thead>
    <tbody>
        <tr><td>5</td><td>180</td><td>47</td><td>32</td></tr>
        <tr><td>10</td><td>170</td><td>43</td><td>40</td></tr>
        <tr><td>15</td><td>147</td><td>54</td><td>46</td></tr>
        <tr><td>20</td><td>139</td><td>53</td><td>51</td></tr>
        <tr><td>25</td><td>125</td><td>60</td><td>55</td></tr>
    </tbody>
</table>

![Залежність кількості кролів, бур'янів та трави від ймовірності захворювання](fig1.png)
