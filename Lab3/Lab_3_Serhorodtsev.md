## Комп'ютерні системи імітаційного моделювання
## СПм-23-3, **Сергородцев Ілля Дмитрович**
### Лабораторна робота №3. Використання BehaviorSearch для оптимізації імітаційних моделей


### Варіант 6, модель у середовищі NetLogo:
[Rabbits Grass Weeds](http://www.netlogoweb.org/launch#http://www.netlogoweb.org/assets/modelslib/Sample%20Models/Biology/Rabbits%20Grass%20Weeds.nlogo)

#### Керуючі параметри:

- **grass-grow-rate** визначає швидкість росту трави на полі.
- **weeds-grow-rate** визначає швидкість росту бур’янів.
- **grass-energy** скільки енергії отримує кролик за вживання трави.
- **weed-energy** скільки енергії отримує кролик за вживання бур’янів.
- **poison-chance** ймовірність, з якою кролик стає хворим, вживаючи бур’ян.
- **birth-threshold** рівень енергії, необхідний для розмноження.


#### Показники роботи моделі:

- Загальна чисельність кроликів на полі.
- Середнє значення енергії всіх агентів.
- Кількість хворих кроликів.

### Налаштування середовища BehaviorSearch:

**Обрана модель**:
<pre>
C:\Program Files\NetLogo 6.3.0\models\Sample Models\Social Science\Traffic 2 Lanes.nlogo
</pre>
**Параметри моделі** (вкладка Model):  
*Параметри та їх модливі діапазони були **автоматично** вилучені середовищем BehaviorSearch із вибраної імітаційної моделі, для цього є кнопка «Завантажити діапазони параметрів із інтерфейсу моделі»*:
<pre>
["grass-grow-rate" [5 1 20]]   
["weeds-grow-rate" [5 1 20]]    
["grass-energy" [5 0.5 10]]    
["weed-energy" [1 0.5 10]]      
["number" [50 1 500]]           
["birth-threshold" [5 1 20]]    
["poison-chance" [10 1 25]]      
</pre>

Для фітнес-функції *(вона ж функція пристосованості або цільова функція)* було обрано **значення середньої кількості хворих кролів**.  
та вказано у параметрі "**Measure**":
<pre>
count rabbits with [is-sick? = true]
</pre>

Загальний вигляд вкладки налаштувань параметрів моделі:  
![Вкладка налаштувань параметрів моделі](fig1.png)

**Налаштування цільової функції** (вкладка Search Objective):  

Метою підбору параметрів імітаційної моделі є **мінімізація середнього рівня кількості хворих кроликів** на симульованій території. Це вказано через параметр **"Goal"**, зі значенням **Minimize Fitness**. Тобто, необхідно визначити такі параметри налаштувань моделі, при яких кількість хворих кроликів є мінімальною. Для цього нас цікавить середнє значення цього показника за всю симуляцію, яка триває **500 кроків**.

В параметрі **"Collected measure"**, що визначає спосіб обліку значень обраного показника, вказано **MEAN_ACROSS_STEPS**, що означає обчислення середнього значення цього показника за весь час симуляції.

Щоб уникнути впливу випадкових факторів, які можуть змінюватися в процесі симуляції (наприклад, випадкові зміни шансів захворіти або росту бур'янів), кожна симуляція повторюється **10 разів**, а результуюче значення розраховується як середнє арифметичне.

![Вкладка налаштувань цільової функції](fig2.png)

**Налаштування алгоритму пошуку** (вкладка Search Algorithm):  
![Вкладка налаштувань пошуку](fig3.png)
<br>

### Результати використання BehaviorSearch:

Результат пошуку параметрів імітаційної моделі, використовуючи **генетичний алгоритм**:  
![Результати пошуку за допомогою ГА](fig5.png)
Результат пошуку параметрів імітаційної моделі, використовуючи **випадковий пошук**:  
![Результати випадкового пошуку](fig4.png)